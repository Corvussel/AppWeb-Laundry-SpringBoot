<style>
    body {
        background-color: #fafbfc;
    }
</style>

<div x-data="{ openModal: false }" class="min-h-screen">
    <div class="max-w-7xl mx-auto px-4 py-4">
        <!-- Header seccion -->
        <div class="mb-8 mt-5">
            <h1 class="text-2xl font-bold text-gray-800 mb-2">Entregas Pendientes</h1>
            <p class="text-gray-600">Gestiona las entregas de servicios</p>
        </div>

        <!-- campo de busqueda -->
        <div class="mb-8">
            <div class="relative max-w-xl">
                <input type="text" id="searchInput"
                    class="w-full pl-12 pr-4 py-3 bg-white border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-[#0891b2] focus:border-transparent transition-all"
                    placeholder="Buscar por cliente o numero de orden...">
                <i class="fas fa-search absolute left-4 top-1/2 -translate-y-1/2 text-gray-400"></i>
            </div>
        </div>

        <div class="grid md:grid-cols-2 sm:grid-cols-2 gap-6">
            <div
                class="bg-white rounded-xl shadow-sm hover:shadow-md transition-all duration-300 divide-y divide-gray-100">
                <div class="p-6">
                    <!-- Header-Encabezado -->
                    <div class="flex justify-between items-start mb-4">
                        <div class="flex items-center gap-3">
                            <div class="bg-[#f0f9ff] p-2 rounded-lg">
                                <i class="fas fa-receipt text-[#0891b2] text-lg"></i>
                            </div>
                            <div>
                                <p class="text-sm text-gray-500">Orden #</p>
                                <p class="font-semibold text-gray-800">B0003</p>
                            </div>
                        </div>
                        <span class="px-3 py-1 bg-yellow-50 text-yellow-700 rounded-full text-sm font-medium">
                            Pendiente
                        </span>
                    </div>

                    <!-- Cliente informacion -->
                    <div class="space-y-3 mb-3">
                        <div class="flex items-center gap-2 text-sm text-gray-600">
                            <i class="fas far fa-user w-4"></i>
                            <span class="font-medium text-gray-800">Flores Solano Russel</span>
                        </div>
                        <div class="flex items-center gap-2 text-sm text-gray-600">
                            <i class="fas fa-calendar-alt w-4"></i>
                            <span>09/12/2024</span>
                        </div>
                        <div class="flex items-center gap-2 text-sm text-gray-600">
                            <i class="fas fa-phone w-4"></i>
                            <span>992-676-986</span>
                        </div>
                        <div class="flex items-center gap-2 text-sm text-gray-600">
                            <i class="fas fa-money-bill w-4"></i>
                            <span>Efectivo</span>
                        </div>
                    </div>
                    <!-- pago informacion -->
                    <div class="grid grid-cols-3 md:gap-4 sm:gap-4 gap-2 text-center">
                        <div class="bg-gray-50 rounded-lg p-3">
                            <p class="text-xs text-gray-500 mb-1">Pagado</p>
                            <p class="md:text-base text-sm font-semibold text-gray-800">S/ 1,299.00</p>
                        </div>
                        <div class="bg-gray-50 rounded-lg p-3">
                            <p class="text-xs text-gray-500 mb-1">Por cobrar</p>
                            <p class="md:text-base text-sm font-semibold text-red-600">S/ 0.00</p>
                        </div>
                        <div class="bg-gray-50 rounded-lg p-3">
                            <p class="text-xs text-gray-500 mb-1">Total</p>
                            <p class="md:text-base text-sm font-semibold text-[#0891b2]">S/ 1,299.00</p>
                        </div>
                    </div>
                </div>

                <!-- Acciones -->
                <div class="px-6 py-4 flex justify-end gap-3">
                    <button @click="openModal = true"
                        class="md:text-base text-sm px-4 py-2 text-gray-700 bg-white border border-gray-200 rounded-lg hover:bg-gray-50 flex items-center gap-2">
                        <i class="fas fa-eye"></i>
                        <span>Ver Detalles</span>
                    </button>
                    <button
                        class="md:text-base text-sm px-4 py-2 bg-[#0891b2] text-white rounded-lg hover:bg-[#0891b2]/90 flex items-center gap-2">
                        <i class="fas fa-check"></i>
                        <span>Entregar</span>
                    </button>
                </div>
            </div>
        </div>

        <!-- Modal -->
        <div x-show="openModal" x-cloak="openModal" 
        x-transition:enter="transition ease-out duration-300"
        x-transition:enter-start="opacity-0"
        x-transition:enter-end="opacity-100"
        x-transition:leave="transition ease-in duration-300"
        x-transition:leave-start="opacity-100"
        x-transition:leave-end="opacity-0"
        class="fixed inset-0 bg-gray-800/50 flex items-center justify-center z-50">
            <div class="bg-white rounded-xl shadow-lg w-full mx-4  max-w-2xl max-h-[90vh] flex flex-col"
                @click.away="openModal = false">

                <!-- Header del Modal -->
                <div class="flex justify-between items-center p-6">
                    <div class="flex items-center gap-3">
                        <div class="bg-[#f0f9ff] p-2 rounded-lg">
                            <i class="fas fa-receipt text-[#0891b2] text-lg"></i>
                        </div>
                        <div>
                            <h3 class="md:text-lg text-base font-semibold text-gray-800">Orden #B0003</h3>
                            <p class="text-sm text-gray-500">Detalles de la orden</p>
                        </div>
                    </div>
                    <button @click="openModal = false" class="text-gray-400 hover:text-gray-600">
                        <i class="fas fa-times"></i>
                    </button>
                </div>

                <!-- Detalles servicio -->
                <div class="overflow-y-auto p-6 space-y-4">
                    <article class="bg-gray-50 rounded-lg p-4 hover:bg-gray-100 transition-colors">
                        <div class="flex items-start justify-between">
                            <div class="space-y-1">
                                <div class="flex items-center gap-2">
                                    <i class="fas fa-tshirt text-[#0891b2]"></i>
                                    <h4 class="font-medium text-gray-800">Camisa de Vestir</h4>
                                </div>
                                <p class="text-sm text-gray-500">Lavado y planchado</p>
                            </div>
                            <div class="text-right">
                                <p class="font-medium text-gray-800">S/ 15.00</p>
                                <p class="text-sm text-gray-500">2 unidades</p>
                            </div>
                        </div>
                        <div class="mt-3 pt-3 border-t border-gray-200 text-nowrap text-ellipsis overflow-hidden">
                            <p class="text-sm text-gray-600">
                                <span class="font-medium">Notas:</span> Marca no existe, color transparente
                            </p>
                        </div>
                    </article>

                    <article class="bg-gray-50 rounded-lg p-4 hover:bg-gray-100 transition-colors">
                        <div class="flex items-start justify-between">
                            <div class="space-y-1">
                                <div class="flex items-center gap-2">
                                    <i class="fas fa-tshirt text-[#0891b2]"></i>
                                    <h4 class="font-medium text-gray-800">Pantalon Jean</h4>
                                </div>
                                <p class="text-sm text-gray-500">Lavado especial</p>
                            </div>
                            <div class="text-right">
                                <p class="font-medium text-gray-800">S/ 20.00</p>
                                <p class="text-sm text-gray-500">1 unidad</p>
                            </div>
                        </div>
                        <div class="mt-3 pt-3 border-t border-gray-200">
                            <p class="text-sm text-gray-600 text-nowrap text-ellipsis overflow-hidden">
                                <span class="font-medium">Notas:</span> Marca no existe, color transparenteMarca no
                                existe,
                            </p>
                        </div>
                    </article>
                    <article class="bg-gray-50 rounded-lg p-4 hover:bg-gray-100 transition-colors">
                        <div class="flex items-start justify-between">
                            <div class="space-y-1">
                                <div class="flex items-center gap-2">
                                    <i class="fas fa-tshirt text-[#0891b2]"></i>
                                    <h4 class="font-medium text-gray-800">Pantalon Jean</h4>
                                </div>
                                <p class="text-sm text-gray-500">Lavado especial</p>
                            </div>
                            <div class="text-right">
                                <p class="font-medium text-gray-800">S/ 20.00</p>
                                <p class="text-sm text-gray-500">1 unidad</p>
                            </div>
                        </div>
                        <div class="mt-3 pt-3 border-t border-gray-200 text-nowrap text-ellipsis overflow-hidden">
                            <p class="text-sm text-gray-600">
                                <span class="font-medium">Notas:</span> Marca no existe, color transparente
                            </p>
                        </div>
                    </article>
                </div>

                <!-- Resumen y Acciones -->
                <div class="p-6 border-t border-gray-200">
                    <div class="flex justify-between mb-4">
                        <div class="space-y-2">
                            <p class="text-sm text-gray-600">Método de pago</p>
                            <div class="flex items-center gap-2">
                                <i class="fas fa-wallet text-gray-400"></i>
                                <span class="text-sm font-medium text-gray-700">Efectivo</span>
                            </div>
                        </div>
                        <div class="text-right">
                            <p class="text-sm text-gray-600">Total</p>
                            <p class="md:text-xl text-base font-bold text-[#0891b2]">S/ 50.00</p>
                        </div>
                    </div>

                    <div class="flex justify-between">
                        <button onclick="enviarMensajeWhatsApp()"
                            class="md:text-base text-sm md:px-4 px-2 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 flex items-center gap-2">
                            <i class="fab fa-whatsapp"></i>
                            <span>Notificar Cliente</span>
                        </button>
                        <button
                            class="md:text-base text-sm md:px-4 px-2 py-2 bg-[#0891b2] text-white rounded-lg hover:bg-[#0891b2]/90 flex items-center gap-2">
                            <i class="fas fa-check"></i>
                            <span>Confirmar Entrega</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script src="/js/deliveries/funcionality.js"></script>
<script>

    function enviarMensajeWhatsApp() {
        const numeroCelular = '936129441';
        const mensaje = 'Hola, este es un mensaje de prueba desde nuestra aplicación!';
        const url = `https://api.whatsapp.com/send?phone=${numeroCelular}&text=${encodeURIComponent(mensaje)}`;
        window.open(url, '_blank');
    }

</script>