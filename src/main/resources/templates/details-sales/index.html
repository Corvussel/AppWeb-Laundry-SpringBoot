<style>
    body {
        background-color: white;
    }
</style>
<div x-data="{ openModal: false }">

    <!-- Contenedor Principal -->
    <div class="max-w-5xl mx-auto space-y-4 m-2">
        <!-- titulo -->
        <h1 class="md:text-2xl text-lg font-bold text-center mb-4 text-gray-700">Resumen Diario de Lavandería</h1>

        <div class="bg-white  gap-2 p-4 flex flex-wrap justify-center">
            <!-- Grafico -->
            <div class=" rounded-xl shadow p-4 w-full lg:w-6/12 sm:w-full md:w-7/12">
                <h2 class="text-sm font-semibold text-gray-600 mb-4">Top Servicios Solicitados</h2>
                <canvas id="topServiciosChart" height="200"></canvas>
            </div>
            <!-- Tarjetas -->
            <div class="grid grid-cols-2 md:grid-cols-1 lg:grid-cols-2 gap-4 md:px-5 ">
                <!-- Tarjeta Prendas Lavadas -->
                <div class="bg-white p-4 rounded-xl shadow flex items-center space-x-3 ">
                    <div class="bg-[#f0f9ff] text-blue-400 p-2 rounded-full shadow-md">
                        <i class="fa-solid fa-shirt fa-lg"></i>
                    </div>
                    <div>
                        <p class="text-xs text-gray-400 uppercase tracking-wide">Prendas Lavadas</p>
                        <h3 class="md:text-base text-sm font-bold text-[#1798b7]">125</h3>
                    </div>
                </div>
                <!-- Tarjeta Ingreso Diario -->
                <div class="bg-white p-4 rounded-xl shadow flex items-center space-x-3">
                    <div class="bg-[#f0f9ff] text-green-600 md:p-3 p-2 rounded-full ">
                        <i class="fa-solid fa-money-bill-wave fa-lg"></i>
                    </div>
                    <div>
                        <p class="md:text-xs text-[10px] text-gray-400 uppercase">Ingreso Diario</p>
                        <h3 class="md:text-base text-sm font-bold text-[#1798b7]">850.50</h3>
                    </div>
                </div>
                <!-- Tarjeta Pendientes -->
                <div class="bg-white p-4 rounded-xl shadow flex items-center space-x-3">
                    <div class="bg-[#f0f9ff] text-yellow-600 md:p-3 p-2 rounded-full ">
                        <i class="fa-solid fa-clock fa-lg"></i>
                    </div>
                    <div>
                        <p class="md:text-xs text-[10px] text-gray-400 uppercase">Pendientes</p>
                        <h3 class="md:text-base text-sm font-bold text-[#1798b7]">15</h3>
                    </div>
                </div>
                <!-- Tarjeta Clientes Atendidos -->
                <div class="bg-white p-4 rounded-xl shadow flex items-center space-x-3">
                    <div class="bg-[#f0f9ff] text-purple-600 md:p-3 p-2 rounded-full ">
                        <i class="fa-solid fa-user-check fa-lg"></i>
                    </div>
                    <div> 
                        <p class="md:text-xs text-[10px] text-gray-400 uppercase">Clientes Atendidos</p>
                        <h3 class="md:text-base text-sm font-bold text-[#1798b7]">85</h3>
                    </div>
                </div>
            </div>
        </div>
        <!-- Tabla -->
        <div class="m-4">
            <h2 class="text-sm  text-center font-semibold text-gray-600 mb-2">Detalles de Servicios</h2>
            <div class="bg-white p-4 rounded-xl shadow overflow-x-auto max-h-72">
                <table class="table-auto w-full text-sm text-left" id="tableDetails">
                    <thead class="bg-[#18bbcc] text-white uppercase">
                        <tr>
                            <th class="p-2">ID</th>
                            <th class="p-2">Cliente</th>
                            <th class="p-2">Servicio</th>
                            <th class="p-2">Costo</th>
                            <th class="p-2">Estado</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="hover:bg-gray-50 odd:bg-slate-50/70 cursor-pointer fila"
                            data-id-details="id de la Tabla" @click="openModal = true">
                            <td class="p-2">001</td>
                            <td class="p-2">Juan Pérez</td>
                            <td class="p-2">Lavado Rápido</td>
                            <td class="p-2">$15</td>
                            <td class="p-2 text-green-500">Completado</td>
                        </tr>
                        <tr class="hover:bg-gray-50 odd:bg-slate-50/70 cursor-pointer fila"
                            data-id-details="id de la Tabla" @click="openModal = true">
                            <td class="p-2">002</td>
                            <td class="p-2">María Gómez</td>
                            <td class="p-2">Lavado en Seco</td>
                            <td class="p-2">$25</td>
                            <td class="p-2 text-yellow-500">Pendiente</td>
                        </tr>
                        <tr class="hover:bg-gray-50 odd:bg-slate-50/70 cursor-pointer fila"
                            data-id-details="id de la Tabla" @click="openModal = true">
                            <td class="p-2">003</td>
                            <td class="p-2">Carlos Díaz</td>
                            <td class="p-2">Lavado y Planchado</td>
                            <td class="p-2">$18</td>
                            <td class="p-2 text-green-500">Completado</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>



    <!--Modal-->
    <div x-show="openModal" class="fixed inset-0 bg-gray-800 bg-opacity-50 flex items-center justify-center z-50"
        x-transition:enter="transition ease-out duration-300" x-transition:enter-start="opacity-0"
        x-transition:enter-end="opacity-100" x-transition:leave="transition ease-in duration-200"
        x-transition:leave-start="opacity-100" x-transition:leave-end="opacity-0">
        <div class="bg-white p-6 rounded-lg shadow-lg lg:w-full lg:max-w-lg  sm:w-11/12 w-11/12 relative h-[550px]">
            <!--Header-->
            <div class="flex justify-end">
                <button @click="openModal = false" class=" px-2 py-1">
                    <i class="fa fa-times"></i>
                </button>
            </div>
            <!--body-->
            <div>
                <article>
                    <div class="flex justify-center flex-col items-center gap-1">
                        <i class="fa-solid fa-user  text-2xl p-5 px-6 bg-[#f6f7f8] rounded-full"></i>
                        <span class="bg-[#f6f7f8] text-[#8786cf] rounded-full px-2">99267686</span>
                        <p class="font-semibold text-[#566980]">Russel flores solano</p>
                    </div>
                </article>

                <div class="overflow-auto h-[310px] px-2  flex gap-2 flex-col">
                    <article
                        class="bg-white border border-blue-200  rounded-lg  px-6 py-2 hover:bg-gray-50 hover:shadow-xl  transition-all duration-300 ">
                        <div class="flex justify-end mb-4">
                            <span
                                class="bg-orange-500 text-white px-3 py-1 rounded-full text-xs font-semibold">Pendiente</span>
                        </div>
                        <div class="flex justify-between items-center mb-2">
                            <p class="text-sm font-medium text-gray-800">Servicio</p>
                            <span class="text-gray-600 text-sm">Lavado completo</span>
                        </div>
                        <div class="flex justify-between items-center mb-2">
                            <p class="text-sm font-medium text-gray-800">Precio por unidad</p>
                            <span class="text-gray-600 text-sm">$10</span>
                        </div>
                        <div class="flex justify-between items-center mb-2">
                            <p class="text-sm font-medium text-gray-800">Cantidad</p>
                            <span class="text-gray-600 text-sm">1</span>
                        </div>
                        <div class="flex justify-between items-center mb-2">
                            <p class="text-sm font-medium text-gray-800">Detalles</p>
                            <span class="text-gray-600 text-sm">Marca Nike</span>
                        </div>
                        <div class="flex justify-end items-center gap-4">
                            <p class="text-sm font-medium text-gray-800">Total</p>
                            <span class="text-gray-600 text-sm">$10</span>
                        </div>
                    </article>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    const table = document.getElementById('tableDetails');
    table.addEventListener('click', function (e) {
        const fila = e.target.closest('.fila');
        if (fila) {
            const mensaje = fila.getAttribute('data-id-details');
            alert(mensaje);
        }
    });

</script>

<!-- Script del Grafico -->
<script>
    const ctx = document.getElementById('topServiciosChart').getContext('2d');
    const topServiciosChart = new Chart(ctx, {
        type: 'bar',
        data: {
            labels: ['Lavado Rápido', 'Lavado y Planchado', 'Lavado en Seco', 'Lavado de Sábanas'],
            datasets: [{
                data: [35, 28, 20, 15],
                backgroundColor: ['#3B82F6', '#34D399', '#FBBF24', '#A78BFA'],
                borderRadius: 5
            }]
        },
        options: {
            responsive: true,
            plugins: { legend: { display: false } },
            scales: {
                x: { grid: { display: false } },
                y: { grid: { color: '#E5E7EB' } }
            }
        }
    });
</script>